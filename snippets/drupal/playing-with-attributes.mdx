---
title: Drupal - Playing with attributes in twig files
date: 'February 19, 2022'
tags: ['Drupal', 'twig']
---
### Creating attributes

<Code language="twig">
  {`{% set my_attribute = create_attribute() %}
{%
  set my_classes = [
    'kittens',
    'llamas',
    'puppies',
  ]
%}
<div{{ my_attribute.addClass(my_classes).setAttribute('id', 'myUniqueId') }}>
  {{ content }}
</div>`}
</Code>

### Attributes methods

#### attributes.addClass()

Adds classes or merges them on to an array of existing CSS classes.

Single class:

<Code language="twig">
  {`<div{{ attributes.addClass('my-class') }}></div>`}
</Code>

Multiple classes:

<Code language="twig">
{`{%
  set classes = [
    'red',
    'green',
  ]
%}
<div{{ attributes.addClass(classes) }}></div>
# outputs <div class="red green"></div>
`}
</Code>

#### attributes.removeClass()

Removes a class from an Attribute object. Used similarly to addClass. Let's say you get the classes variable from somewhere else like a preprocess function.

<Code language="twig">
{`{% set classes = [ 'red', 'green', 'blue' ] %}

<div{{ attributes.addClass(classes).removeClass('green') }}></div>
# outputs <div class="red blue"></div>.
`}
</Code>

#### attributes.setAttribute($attribute, $value)

Sets values for an attribute key.

<Code language="twig">
{`<div{{ attributes.setAttribute('id', 'myID') }}></div>
  # outputs <div id="myID"></div>
`}
</Code>

#### attributes.removeAttribute($attribute)

Removes an attribute from an Attribute object.

<Code language="twig">
{`<div{{ attributes.removeAttribute('id') }}></div>`}
</Code>

#### attributes.hasClass($class)

Checks if the class array has the given CSS class.

<Code language="twig">
{`{% if attributes.hasClass('myClass') %}
  {# do stuff #}
{% endif %}
`}
  </Code>

#### attributes.key

If the key is associated with a value, the value is returned. It acts a lot like one might expect a getAttribute() function to work. (Note that there is no getAttribute() function, and that this syntax is equivalent to offsetGet().)

<Code language="twig">
{`<div style="{{ attributes.style }}"></div>`}
</Code>

Depending on the key, you may have to use brackets instead of a dot. This is the case if the key contains a hyphen as with most data attributes.

<Code language="twig">
{`{% if attributes['data-my-data'] %}
  {# do stuff #}
{% endif %}
`}
</Code>

More documentation in:
- [Using Attributes in Templates](https://www.drupal.org/docs/8/theming-drupal-8/using-attributes-in-templates)
